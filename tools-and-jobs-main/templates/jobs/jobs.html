{% extends 'basic.html' %}
{% load static %}

{% block title %}My jobs list - Toolsandjobs {% endblock %}

{% block meta %}
<meta name="og:title" property="og:title" content="My jobs list - Toolsandjobs">
<link rel="canonical" href="{% url 'jobs:jobs_list' %}">
<meta name="description"
    content="Best platform to find your dream job is Tools&jobs site. Free job alerts via email for your jobs here.Job list contains Engineering,arts,govt,medical,educational,business & more. Jobseeker India & jobs">
<meta name="keywords"
    content="Toolsandjobs,job field list,jobseeker jobs,jobseeker india,free email alerts, free job alerts,jobs notification,& more,-Toolsandjobs ">
<meta name="author" content="ToolsandJobs">
{% endblock %}


{% block content1 %}
<style>
    :root {
        --dark-orange: #FF5733;
        --orange: #F3550D;
        --black: #333333;
        --yellow: #FFC107;

        --bg: #ffffff;
        --muted: #6b6b6b;
        --card-border: #e6e6e6;
        --radius: 10px;
        --container-width: 1100px;
    }

    * {
        box-sizing: border-box
    }

    body {
        margin: 0;
        font-family: "Inter", "Roboto", Arial, sans-serif;
        color: var(--black);
        background: linear-gradient(180deg, #fff 0%, #fffaf5 100%);
        -webkit-font-smoothing: antialiased;
    }

    /* container */
    .site-container {
        max-width: var(--container-width);
        margin: 28px auto;
        padding: 18px;
    }

    /* header / toolbar */
    .jobs-header {
        display: flex;
        gap: 16px;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 18px;
    }

    .jobs-left {
        display: flex;
        gap: 14px;
        align-items: center;
    }

    .brand {
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .brand .logo {
        width: 46px;
        height: 46px;
        border-radius: 8px;
        background: linear-gradient(135deg, var(--dark-orange), var(--orange));
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 700;
        font-size: 18px;
        box-shadow: 0 3px 8px rgba(243, 90, 34, 0.18);
    }

    .brand h1 {
        margin: 0;
        font-size: 18px;
        color: var(--black);
    }

    /* search block (naukri like) */
    .search-bar {
        display: flex;
        gap: 10px;
        align-items: center;
        background: #fff;
        border-radius: 8px;
        padding: 8px;
        box-shadow: 0 4px 14px rgba(0, 0, 0, 0.06);
        border: 1px solid var(--card-border);
    }

    .search-bar input[type="text"] {
        border: 0;
        outline: 0;
        padding: 10px 12px;
        font-size: 14px;
        min-width: 220px;
    }

    .search-bar button {
        border-radius: 6px;
        border: 0;
        padding: 8px 14px;
        background: var(--dark-orange);
        color: #fff;
        cursor: pointer;
        font-weight: 600;
    }

    /* actions */
    .actions {
        display: flex;
        gap: 10px;
        align-items: center;
    }

    .btn {
        border: 0;
        padding: 8px 14px;
        border-radius: 6px;
        font-weight: 600;
        cursor: pointer;
    }

    .btn-outline {
        background: transparent;
        border: 1px solid var(--card-border);
        color: var(--black);
    }

    .btn-primary {
        background: var(--orange);
        color: white;
    }

    /* jobs list layout */
    .jobs-grid {
        display: grid;
        grid-template-columns: 1fr 320px;
        gap: 18px;
        margin-top: 14px;
    }

    /* left column - job cards */
    .jobs-left-col {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .job-card {
        background: #fff;
        border-radius: var(--radius);
        padding: 16px;
        border: 1px solid var(--card-border);
        box-shadow: 0 6px 18px rgba(51, 51, 51, 0.04);
        transition: transform .14s ease, box-shadow .14s ease;
        display: flex;
        gap: 14px;
        align-items: flex-start;
    }

    .job-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 18px 40px rgba(51, 51, 51, 0.09);
    }

    .job-thumb {
        width: 72px;
        height: 72px;
        border-radius: 8px;
        background: linear-gradient(135deg, var(--yellow), var(--orange));
        display: flex;
        align-items: center;
        justify-content: center;
        color: #111;
        font-weight: 700;
        font-size: 14px;
        flex-shrink: 0;
    }

    .job-content {
        flex: 1;
    }

    .job-content h3 {
        margin: 0 0 6px 0;
        font-size: 18px;
        color: var(--black);
    }

    .job-meta {
        display: flex;
        gap: 12px;
        color: var(--muted);
        font-size: 13px;
        margin-bottom: 8px;
    }

    .job-desc {
        color: var(--muted);
        font-size: 14px;
        line-height: 1.45;
        max-height: 64px;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* right column - filters/sidebar */
    .jobs-right-col {
        background: #fff;
        border-radius: 10px;
        padding: 14px;
        border: 1px solid var(--card-border);
        height: fit-content;
    }

    .sidebar h4 {
        margin: 0 0 10px 0;
        font-size: 15px;
        color: var(--black)
    }

    .filter-item {
        margin-bottom: 8px
    }

    .filter-item label {
        display: block;
        font-size: 13px;
        color: var(--muted);
        margin-bottom: 6px
    }

    /* apply button row */
    .job-actions {
        display: flex;
        gap: 10px;
        align-items: center;
        margin-top: 10px;
    }

    .apply-btn {
        background: var(--dark-orange);
        color: #fff;
        border: 0;
        padding: 8px 12px;
        border-radius: 8px;
        font-weight: 700;
        cursor: pointer;
        text-decoration: none;
    }

    .save-btn {
        background: #fff;
        border: 1px solid var(--card-border);
        color: var(--black);
        padding: 8px 10px;
        border-radius: 8px;
        cursor: pointer;
    }

    /* footer small */
    .jobs-footer {
        margin-top: 18px;
        color: var(--muted);
        font-size: 13px
    }

    /* responsiveness */
    @media (max-width: 940px) {
        .jobs-grid {
            grid-template-columns: 1fr;
        }

        .job-thumb {
            width: 60px;
            height: 60px
        }

        .site-container {
            padding: 12px
        }
    }
</style>

<div class="site-container">
    <div class="jobs-header">
        <div class="jobs-left">
            <div class="brand">
                <div class="logo">TJ</div>
                <div>
                    <h1>Tools & Jobs</h1>
                    <div style="font-size:13px;color:#777;margin-top:2px">Find jobs, apply fast</div>
                </div>
            </div>

            <div class="search-bar" role="search" aria-label="Search jobs">
                <input type="text" placeholder="Job title, keywords, or company">
                <input type="text" placeholder="Location (city)">
                <button>Search</button>
            </div>
        </div>

        <div class="actions">
            <a href="{% url 'jobs:jobs_add' %}" class="btn btn-primary">Add Job</a>
            <button class="btn btn-outline">Saved Jobs</button>
        </div>
    </div>

    <div class="jobs-grid">
        <div class="jobs-left-col">
            {% for jobs in jobs_list %}
            <article class="job-card" aria-labelledby="job-{{ forloop.counter }}">
                <div class="job-thumb"><img height="72px" width="72px" src="{{ jobs.photo.url }}" alt="{{ jobs.head }}">
                </div>
                <div class="job-content">
                    <h3 id="job-{{ forloop.counter }}">{{ jobs.head }}</h3>

                    <div class="job-meta">
                        <span>Company: <b style="color:#000">{{ jobs.company_name|default:"Company" }}</b></span>
                        <span>•</span>
                        <span>Disc: <b style="color:#000">{{ jobs.disctrict|default:"India" }}</b></span>
                        <span>•</span>
                        <span> {{ jobs.date_time|date:"d M Y" }}</span>
                    </div>

                    <div class="job-desc">
                        <b>job description:</b> {{ jobs.descr|safe }}
                    </div>

                    {% if user.is_authenticated %}
                    <div class="job-actions">
                        <a class="apply-btn" href="{{ jobs.url }}" target="_blank" rel="noopener">Apply Now</a>
                        <a class="apply-btn" href="{% url 'jobs:job_edit' jobs.pk %}">edit</a>
                        <a class="apply-btn" href="{% url 'jobs:job_delete' jobs.pk %}">delete</a>
                        <a class="apply-btn" href="{% url 'jobs:about_job' jobs.pk %}">view</a>
                    </div>
                    {% else %}
                    <div class="job-actions">
                        <a class="apply-btn" href="{% url 'jobs:about_job' jobs.pk %}">Login
                            to
                            apply</a>
                    </div>
                    {% endif %}
                </div>
            </article>
            {% empty %}
            <p>No jobs found.</p>
            {% endfor %}

            <div class="jobs-footer">
                Showing {{ jobs_list|length }} jobs
            </div>
        </div>

        <!-- upcoming feature -->

        <!-- <aside class="jobs-right-col">
      <div class="sidebar">
        <h4>Filter by</h4>
        <div class="filter-item">
          <label>Experience</label>
          <select>
            <option>All</option>
            <option>0-1 years</option>
            <option>1-3 years</option>
            <option>3+ years</option>
          </select>
        </div>

        <div class="filter-item">
          <label>Job Type</label>
          <select>
            <option>All</option>
            <option>Full-time</option>
            <option>Part-time</option>
            <option>Internship</option>
          </select>
        </div>

        <div style="margin-top:10px">
          <a class="btn btn-primary" href="#">Apply Filters</a>
        </div>
      </div>
    </aside> -->
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const searchJobInput = document.querySelector('.search-bar input:nth-child(1)');
        const searchLocationInput = document.querySelector('.search-bar input:nth-child(2)');
        const jobCards = document.querySelectorAll('.job-card');

        function filterJobs() {
            const titleQuery = searchJobInput.value.toLowerCase().trim();
            const locQuery = searchLocationInput.value.toLowerCase().trim();

            jobCards.forEach(card => {
                const jobTitle = card.querySelector("h3").textContent.toLowerCase();
                const company = card.querySelector(".job-meta span b").textContent.toLowerCase();
                const location = card.querySelector(".job-meta span:nth-child(5)").textContent.toLowerCase();

                const matchTitle =
                    jobTitle.includes(titleQuery) ||
                    company.includes(titleQuery);

                const matchLocation =
                    location.includes(locQuery) ||
                    locQuery === "";

                if (matchTitle && matchLocation) {
                    card.style.display = "flex";
                } else {
                    card.style.display = "none";
                }
            });
        }

        searchJobInput.addEventListener("input", filterJobs);
        searchLocationInput.addEventListener("input", filterJobs);
    });
</script>


{% endblock %}